/* src/components/ScrollHighlightText/ScrollHighlightText.module.css */
.highlightText {
  position: relative;
  text-align: left;
  max-width: 1200px;
  font-size: var(--font-size-h3); 
  line-height: 1.9;
  letter-spacing: 0.01em;
  color: var(--color-text);
  padding: var(--space-xs) var(--space-md);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0 auto;

  /* --- Highlight Effect Layer (via Background Clipping) --- */
  background: linear-gradient(
    to bottom,
    var(--color-text, #FFFFFF), /* Use white (or a variable for white) */
    var(--color-primary)
  );
  background-size: 100% 100%;
  background-position: 0 0;
  background-repeat: no-repeat;
  -webkit-background-clip: text;
  background-clip: text;
  paint-order: stroke fill;
  /* Base color (#555) is set via 'color'. Background provides the white

  /* --- Dynamic Reveal Mask (Same as before) --- */
  /* This mask controls the vertical reveal */
  mask-image: linear-gradient(
    to bottom,
    black 0%,         /* Fully visible (shows white highlight) */
    black 48%,        
    transparent 52%,  
    transparent 100%  
  );
  mask-size: 100% 200%; 
  mask-repeat: no-repeat;
  mask-position: 0 calc(100% - var(--highlight-percent));

  /* --- Animation & Performance --- */
  transition: mask-position 0.6s ease-out; /* Smooth vertical mask movement */
  will-change: mask-position; /* Performance hint */

  cursor: text;
}

/* --- Removed Hover Rule --- */
.highlightText:hover {
  /* Removed hover effect to keep the text color consistent */
  /* Optional: You can add a hover effect if desired */
   color: var(--color-text);
} 


/* --- Optional Enhancements (Adjusted for new colors) --- */
.highlightText strong {
  font-weight: var(--font-weight-bold, 700);
  /* Inherits the current computed color (base gray or revealed white) */
  color: inherit;
}

.highlightText a {
  /* Inherits the current computed color (base gray or revealed white) */
  color: inherit;
  text-decoration: underline;
  /* Underline matches the base color initially */
  text-decoration-color: var(--color-primary);
  transition: text-decoration-color 0.3s ease;
}

/* Optional: Link hover - maybe make underline white? */
.highlightText a:hover {
  text-decoration-color: var(--color-text);
}

.highlightBox {
  display: inline-block; /* Allows padding and background */
  padding: 0.25em 0.25em; /* Adjust vertical and horizontal padding (em units scale with font size) */
  /* Example: Use a subtle background derived from your primary color */
  /* Using HSL allows easy alpha adjustment. Replace with your actual primary HSL values */
  background-color: hsla(var(--color-primary-hsl, 217 71% 53%), 0.15); /* 15% opacity background */
  /* Fallback if HSL variable isn't set */
  /* background-color: rgba(74, 144, 226, 0.15); */

  border-radius: 2px; /* Slightly rounded corners */

  /* Optional: Add a subtle border */
  /* border: 1px solid hsla(var(--color-primary-hsl, 217 71% 53%), 0.3); */

  /* Text color inside the box will inherit from ScrollHighlightText */
  /* You could override it here if needed, e.g., color: var(--color-primary); */

  margin: 0 0.1em; /* Add tiny horizontal space around the box */
  vertical-align: baseline; /* Keep it aligned with surrounding text */
  font-weight: var(--font-weight-bold); /* Optional: Make it slightly bolder */
}

/* ADD these classes */
.textAlignLeft {
  text-align: left;
  margin-left: 0; /* Override auto margin */
  /* margin-right: auto; */ /* Keep auto */
}
.textAlignCenter {
  text-align: center;
  /* margin auto handles centering */
}
.textAlignRight {
  text-align: right;
  /* margin-left: auto; */ /* Keep auto */
  margin-right: 0; /* Override auto margin */
}

/* Highlight Box needs explicit color if parent uses text-fill-color */
.highlightBox {
    /* ... existing styles ... */
   color: var(--color-text); /* Set explicit color */
   -webkit-text-fill-color: initial; /* Reset fill color */
}